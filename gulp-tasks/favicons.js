const gulp = require('gulp');
const gulpLoadPlugins = require('gulp-load-plugins');
const fs = require('fs');
const $ = gulpLoadPlugins();

// FAVICONS

// File where the favicon markups are stored
var FAVICON_DATA_FILE = 'faviconData.json';

// Generate the icons. This task takes a few seconds to complete.
// You should run it at least once to create the icons. Then,
// you should run it whenever RealFaviconGenerator updates its
// package (see the check-for-favicon-update task below).
gulp.task('generate-favicon', (done) => {
  $.realFavicon.generateFavicon({
    masterPicture: 'favicon.png',
    dest: 'app/favicons',
    iconsPath: '/favicons',
    design: {
      ios: {
      pictureAspect: 'noChange',
      assets: {
        ios6AndPriorIcons: false,
        ios7AndLaterIcons: false,
        precomposedIcons: false,
        declareOnlyDefaultIcon: true
      }
    },
    desktopBrowser: {},
    windows: {
    masterPicture: {
    type: 'inline',
    content: 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjYwcHgiIGhlaWdodD0iMjYwcHgiIHZpZXdCb3g9IjAgMCAyNjAgMjYwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjNDlGRkE2OyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQyICgzNjc4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+ZmF2aWNvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJmYXZpY29uIiBmaWxsPSIjMDAwMDAwIj4KICAgICAgICAgICAgPGcgaWQ9IlBhZ2UtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjguMDAwMDAwLCAzNi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjA2ODA2ODg1LDM4LjI3MjUgQzUuMzMzOTg4ODUsMzkuODcxNTM5NSAzLjQ0NDIyODg1LDQwLjU3MDM0MjEgMS44NDk1ODg4NSwzOS44MzQyMzY4IEMwLjI1NDk0ODg1NSwzOS4wOTgxMzE2IC0wLjQ0MTkzMTE0NSwzNy4yMDMxNTc5IDAuMjkyMTQ4ODU1LDM1LjYwNDExODQgQzAuODQ1MTg4ODU1LDM0LjQwMDQ4NjggMS45NDM4Mjg4NSwzMi40MDYwMzk1IDMuNjQwMTQ4ODUsMjkuODg0MzgxNiBDNi42NTMzNDg4NSwyNS40MTgwMTMyIDEwLjE4OTgyODksMjEuMzI5NjQ0NyAxNC4xNzI3MDg5LDE3LjcwNjMxNTggQzI2LjI5OTkwODksNi42NDQ4NDIxMSA0Mi4wNTUzNDg5LDAgNjEuNjk5NDI4OSwwIEM4MS4zNDEwMjg5LDAgOTcuMDk2NDY4OSw2LjY0NDg0MjExIDEwOS4yMjM2NjksMTcuNzAzODI4OSBDMTEzLjIwOTAyOSwyMS4zMjcxNTc5IDExNi43NDU1MDksMjUuNDE1NTI2MyAxMTkuNzU4NzA5LDI5Ljg4MTg5NDcgQzEyMS40NTI1NDksMzIuNDAzNTUyNiAxMjIuNTUxMTg5LDM0LjM5OCAxMjMuMTA2NzA5LDM1LjYwMTYzMTYgQzEyMy44NDMyNjksMzcuMjAwNjcxMSAxMjMuMTQzOTA5LDM5LjA5NTY0NDcgMTIxLjU0OTI2OSwzOS44MzE3NSBDMTE5Ljk1MjE0OSw0MC41NzAzNDIxIDExOC4wNjQ4NjksMzkuODY5MDUyNiAxMTcuMzI4MzA5LDM4LjI3MDAxMzIgQzExNy4xMjc0MjksMzcuODQ5NzM2OCAxMTYuOTExNjY5LDM3LjQzNDQzNDIgMTE2LjY4MzUwOSwzNy4wMjY1OTIxIEMxMTYuMDAzOTg5LDM1LjgwMDU3ODkgMTE1LjI2OTkwOSwzNC42MDY4OTQ3IDExNC40ODM3NDksMzMuNDQ1NTM5NSBDMTExLjc1NTc0OSwyOS40MDE5MzQyIDEwOC41NTQwNjksMjUuNjk5MDI2MyAxMDQuOTQ4MTQ5LDIyLjQyMTM2ODQgQzkzLjk0MTkwODksMTIuMzg5NDQ3NCA3OS42ODY4Njg5LDYuMzc4NzUgNjEuNzAxOTA4OSw2LjM3ODc1IEM0My43MTE5ODg5LDYuMzc4NzUgMjkuNDU2OTQ4OSwxMi4zODk0NDc0IDE4LjQ1MzE4ODksMjIuNDIxMzY4NCBDMTQuODQ3MjY4OSwyNS42OTkwMjYzIDExLjY0NTU4ODksMjkuNDAxOTM0MiA4LjkxNTEwODg1LDMzLjQ0NTUzOTUgQzguMTMxNDI4ODUsMzQuNjA2ODk0NyA3LjM5NzM0ODg1LDM1LjgwMDU3ODkgNi43MTc4Mjg4NSwzNy4wMjY1OTIxIEM2LjM3NTU4ODg1LDM3LjY0ODMwMjYgNi4xNjIzMDg4NSwzOC4wNzYwMzk1IDYuMDczMDI4ODUsMzguMjcwMDEzMiBMNi4wNjgwNjg4NSwzOC4yNzI1IFogTTIwLjcwMDA2ODksNDkuMzU4ODQyMSBDMTkuOTY1OTg4OSw1MC45NTc4ODE2IDE4LjA3NjIyODksNTEuNjU2Njg0MiAxNi40ODE1ODg5LDUwLjkyMDU3ODkgQzE0Ljg4Njk0ODksNTAuMTg0NDczNyAxNC4xOTAwNjg5LDQ4LjI4OTUgMTQuOTI0MTQ4OSw0Ni42OTA0NjA1IEMxNS4zNTU2Njg5LDQ1Ljc1MDQzNDIgMTYuMjAxMzQ4OSw0NC4yMTg1Mzk1IDE3LjQ5NTkwODksNDIuMjg4NzUgQzE5Ljc5MjM4ODksMzguODg0MjYzMiAyMi40ODU2Njg5LDM1Ljc3MDczNjggMjUuNTIxMTg4OSwzMy4wMTAzNDIxIEMzNC43NTkxODg5LDI0LjU4NzQwNzkgNDYuNzYyMzg4OSwxOS41MjY2ODQyIDYxLjcwMTkwODksMTkuNTI2Njg0MiBDNzYuNjQxNDI4OSwxOS41MjY2ODQyIDg4LjY0MjE0ODksMjQuNTg3NDA3OSA5Ny44ODAxNDg5LDMzLjAxMDM0MjEgQzEwMC45MTgxNDksMzUuNzY4MjUgMTAzLjYxMTQyOSwzOC44ODQyNjMyIDEwNS45MDU0MjksNDIuMjg2MjYzMiBDMTA3LjIwMjQ2OSw0NC4yMTg1Mzk1IDEwOC4wNDgxNDksNDUuNzUwNDM0MiAxMDguNDc3MTg5LDQ2LjY4Nzk3MzcgQzEwOS4yMTEyNjksNDguMjg3MDEzMiAxMDguNTE2ODY5LDUwLjE4MTk4NjggMTA2LjkyMjIyOSw1MC45MjA1Nzg5IEMxMDUuMzI1MTA5LDUxLjY1NjY4NDIgMTAzLjQzNTM0OSw1MC45NTc4ODE2IDEwMi42OTg3ODksNDkuMzU4ODQyMSBDMTAyLjU1NzQyOSw0OS4wNjA0MjExIDEwMi40MDM2NjksNDguNzY2OTczNyAxMDIuMjQyNDY5LDQ4LjQ3ODUgQzEwMS44MTA5NDksNDcuNjk1MTQ0NyAxMDEuMjc1MjY5LDQ2LjgxMjMxNTggMTAwLjYzMDQ2OSw0NS44NTIzOTQ3IEM5OC42MjE2Njg5LDQyLjg3MzE1NzkgOTYuMjYwNzA4OSw0MC4xNDUwOTIxIDkzLjYwMjE0ODksMzcuNzMwMzY4NCBDODUuNDkwMDY4OSwzMC4zMzQ1IDc0Ljk4OTc0ODksMjUuOTAyOTQ3NCA2MS43MDE5MDg5LDI1LjkwMjk0NzQgQzQ4LjQxNjU0ODksMjUuOTAyOTQ3NCAzNy45MTEyNjg5LDMwLjMzNDUgMjkuNzk5MTg4OSwzNy43MzAzNjg0IEMyNy4xNDMxMDg5LDQwLjE0NTA5MjEgMjQuNzgyMTQ4OSw0Mi44NzMxNTc5IDIyLjc3MDg2ODksNDUuODUyMzk0NyBDMjIuMTI2MDY4OSw0Ni44MDk4Mjg5IDIxLjU5MDM4ODksNDcuNjkyNjU3OSAyMS4xNTg4Njg5LDQ4LjQ3ODUgQzIwLjkxMDg2ODksNDguOTI4NjE4NCAyMC43NjIwNjg5LDQ5LjIyOTUyNjMgMjAuNzAwMDY4OSw0OS4zNTg4NDIxIEwyMC43MDAwNjg5LDQ5LjM1ODg0MjEgWiBNMzIuMTUwMjI4OSw2My4xNzA3NjMyIEMzMS40MTYxNDg5LDY0Ljc2OTgwMjYgMjkuNTI2Mzg4OSw2NS40NzEwOTIxIDI3LjkzMTc0ODksNjQuNzMyNSBDMjYuMzM0NjI4OSw2My45OTYzOTQ3IDI1LjYzNzc0ODksNjIuMTAzOTA3OSAyNi4zNzE4Mjg5LDYwLjUwMjM4MTYgQzI2LjcxMTU4ODksNTkuNzY4NzYzMiAyNy4zNTYzODg5LDU4LjU5NDk3MzcgMjguMzQwOTQ4OSw1Ny4xMzAyMjM3IEMzMC4wNzQ0Njg5LDU0LjU1ODgyODkgMzIuMTEwNTQ4OSw1Mi4yMDYyNzYzIDM0LjQwMjA2ODksNTAuMTIyMzAyNiBDNDEuMzc4MzA4OSw0My43NjA5NjA1IDUwLjQ0NzY2ODksMzkuOTM2MTk3NCA2MS43MDY4Njg5LDM5LjkzNjE5NzQgQzcyLjk2NjA2ODksMzkuOTM2MTk3NCA4Mi4wMzU0Mjg5LDQzLjc2MDk2MDUgODkuMDExNjY4OSw1MC4xMjIzMDI2IEM5MS4zMDU2Njg5LDUyLjIwNjI3NjMgOTMuMzM5MjY4OSw1NC41NTg4Mjg5IDk1LjA3Mjc4ODksNTcuMTMwMjIzNyBDOTYuMDU5ODI4OSw1OC41OTc0NjA1IDk2LjcwNDYyODksNTkuNzY2Mjc2MyA5Ny4wNDE5MDg5LDYwLjUwMjM4MTYgQzk3Ljc3ODQ2ODksNjIuMTAxNDIxMSA5Ny4wNzkxMDg5LDYzLjk5NjM5NDcgOTUuNDg0NDY4OSw2NC43MzI1IEM5My44ODk4Mjg5LDY1LjQ3MTA5MjEgOTIuMDAwMDY4OSw2NC43Njk4MDI2IDkxLjI2MzUwODksNjMuMTcwNzYzMiBDOTEuMTY2Nzg4OSw2Mi45NjkzMjg5IDkxLjA2MjYyODksNjIuNzcwMzgxNiA5MC45NTM1MDg5LDYyLjU3MzkyMTEgQzkwLjY0MzUwODksNjIuMDE0MzgxNiA5MC4yNTkxMDg5LDYxLjM4MDIzNjggODkuNzk3ODI4OSw2MC42OTM4Njg0IEM4OC4zNDk1MDg5LDU4LjU0NTIzNjggODYuNjUwNzA4OSw1Ni41ODA2MzE2IDg0LjczMzY2ODksNTQuODM5ODQyMSBDNzguODgwODY4OSw0OS41MDU1NjU4IDcxLjMxMTkwODksNDYuMzE0OTQ3NCA2MS43MDY4Njg5LDQ2LjMxNDk0NzQgQzUyLjEwMTgyODksNDYuMzE0OTQ3NCA0NC41MzI4Njg5LDQ5LjUwNTU2NTggMzguNjgyNTQ4OSw1NC44Mzk4NDIxIEMzNi43NjU1MDg5LDU2LjU4MDYzMTYgMzUuMDY2NzA4OSw1OC41NDUyMzY4IDMzLjYxNTkwODksNjAuNjkzODY4NCBDMzMuMjA0MjI4OSw2MS4zMDMxNDQ3IDMyLjgxOTgyODksNjEuOTI5ODI4OSAzMi40NjI3MDg5LDYyLjU3MzkyMTEgQzMyLjI4OTEwODksNjIuODg3MjYzMiAzMi4xODQ5NDg5LDYzLjA5MzY3MTEgMzIuMTUwMjI4OSw2My4xNzA3NjMyIEwzMi4xNTAyMjg5LDYzLjE3MDc2MzIgWiBNNjcuNTMyMzg4OSwxMjUuMzQ5Mjc2IEw1NS44NjY0Njg5LDEyNS4zNDkyNzYgTDU1Ljg2NjQ2ODksMTg5IEw0OS41MDUyNjg5LDE4OSBMNDkuNTA1MjY4OSwxMjUuMzQ5Mjc2IEwzNS40ODMzNDg5LDEyNS4zNDkyNzYgTDM1LjQ4MzM0ODksMTE4Ljk3MDUyNiBMNDAuMTY4MDY4OSwxMTguOTcwNTI2IEw0MC4xNjgwNjg5LDk0LjYxOTM2ODQgTDQwLjE3MzAyODksOTQuNjE5MzY4NCBDNDAuNDM4Mzg4OSw4My4wNDMxMTg0IDQ5Ljk3Mzk4ODksNzMuNzM5ODQyMSA2MS42OTk0Mjg5LDczLjczOTg0MjEgQzczLjQyNDg2ODksNzMuNzM5ODQyMSA4Mi45NTc5ODg5LDgzLjA0MzExODQgODMuMjI1ODI4OSw5NC42MTkzNjg0IEw4My4yMzA3ODg5LDk0LjYxOTM2ODQgTDgzLjIzMDc4ODksMTE4Ljk3MDUyNiBMODcuOTEzMDI4OSwxMTguOTcwNTI2IEw4Ny45MTMwMjg5LDEyNS4zNDkyNzYgTDczLjg5MTEwODksMTI1LjM0OTI3NiBMNzMuODkxMTA4OSwxNjkuMTE1MjExIEw2Ny41MzQ4Njg5LDE2OS4xMTUyMTEgTDY3LjUzNDg2ODksMTI1LjM0OTI3NiBMNjcuNTMyMzg4OSwxMjUuMzQ5Mjc2IFoiIGlkPSJGaWxsLTEiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+'
    },
    pictureAspect: 'noChange',
    backgroundColor: '#49ffa6',
    onConflict: 'override',
    assets: {
    windows80Ie10Tile: false,
    windows10Ie11EdgeTiles: {
    small: false,
    medium: true,
    big: false,
    rectangle: false
    }
    }
    },
    androidChrome: {
      pictureAspect: 'shadow',
      themeColor: '#ffffff',
      manifest: {
        name: 'Chromatron',
        display: 'standalone',
        orientation: 'notSet',
        onConflict: 'override',
        declared: true
      },
      assets: {
        legacyIcon: false,
        lowResolutionIcons: false
      }
    },
    safariPinnedTab: {
    masterPicture: {
    type: 'inline',
      content: 'PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjYwcHgiIGhlaWdodD0iMjYwcHgiIHZpZXdCb3g9IjAgMCAyNjAgMjYwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHN0eWxlPSJiYWNrZ3JvdW5kOiAjNDlGRkE2OyI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQyICgzNjc4MSkgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+ZmF2aWNvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPjwvZGVmcz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJmYXZpY29uIiBmaWxsPSIjMDAwMDAwIj4KICAgICAgICAgICAgPGcgaWQ9IlBhZ2UtMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjguMDAwMDAwLCAzNi4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik02LjA2ODA2ODg1LDM4LjI3MjUgQzUuMzMzOTg4ODUsMzkuODcxNTM5NSAzLjQ0NDIyODg1LDQwLjU3MDM0MjEgMS44NDk1ODg4NSwzOS44MzQyMzY4IEMwLjI1NDk0ODg1NSwzOS4wOTgxMzE2IC0wLjQ0MTkzMTE0NSwzNy4yMDMxNTc5IDAuMjkyMTQ4ODU1LDM1LjYwNDExODQgQzAuODQ1MTg4ODU1LDM0LjQwMDQ4NjggMS45NDM4Mjg4NSwzMi40MDYwMzk1IDMuNjQwMTQ4ODUsMjkuODg0MzgxNiBDNi42NTMzNDg4NSwyNS40MTgwMTMyIDEwLjE4OTgyODksMjEuMzI5NjQ0NyAxNC4xNzI3MDg5LDE3LjcwNjMxNTggQzI2LjI5OTkwODksNi42NDQ4NDIxMSA0Mi4wNTUzNDg5LDAgNjEuNjk5NDI4OSwwIEM4MS4zNDEwMjg5LDAgOTcuMDk2NDY4OSw2LjY0NDg0MjExIDEwOS4yMjM2NjksMTcuNzAzODI4OSBDMTEzLjIwOTAyOSwyMS4zMjcxNTc5IDExNi43NDU1MDksMjUuNDE1NTI2MyAxMTkuNzU4NzA5LDI5Ljg4MTg5NDcgQzEyMS40NTI1NDksMzIuNDAzNTUyNiAxMjIuNTUxMTg5LDM0LjM5OCAxMjMuMTA2NzA5LDM1LjYwMTYzMTYgQzEyMy44NDMyNjksMzcuMjAwNjcxMSAxMjMuMTQzOTA5LDM5LjA5NTY0NDcgMTIxLjU0OTI2OSwzOS44MzE3NSBDMTE5Ljk1MjE0OSw0MC41NzAzNDIxIDExOC4wNjQ4NjksMzkuODY5MDUyNiAxMTcuMzI4MzA5LDM4LjI3MDAxMzIgQzExNy4xMjc0MjksMzcuODQ5NzM2OCAxMTYuOTExNjY5LDM3LjQzNDQzNDIgMTE2LjY4MzUwOSwzNy4wMjY1OTIxIEMxMTYuMDAzOTg5LDM1LjgwMDU3ODkgMTE1LjI2OTkwOSwzNC42MDY4OTQ3IDExNC40ODM3NDksMzMuNDQ1NTM5NSBDMTExLjc1NTc0OSwyOS40MDE5MzQyIDEwOC41NTQwNjksMjUuNjk5MDI2MyAxMDQuOTQ4MTQ5LDIyLjQyMTM2ODQgQzkzLjk0MTkwODksMTIuMzg5NDQ3NCA3OS42ODY4Njg5LDYuMzc4NzUgNjEuNzAxOTA4OSw2LjM3ODc1IEM0My43MTE5ODg5LDYuMzc4NzUgMjkuNDU2OTQ4OSwxMi4zODk0NDc0IDE4LjQ1MzE4ODksMjIuNDIxMzY4NCBDMTQuODQ3MjY4OSwyNS42OTkwMjYzIDExLjY0NTU4ODksMjkuNDAxOTM0MiA4LjkxNTEwODg1LDMzLjQ0NTUzOTUgQzguMTMxNDI4ODUsMzQuNjA2ODk0NyA3LjM5NzM0ODg1LDM1LjgwMDU3ODkgNi43MTc4Mjg4NSwzNy4wMjY1OTIxIEM2LjM3NTU4ODg1LDM3LjY0ODMwMjYgNi4xNjIzMDg4NSwzOC4wNzYwMzk1IDYuMDczMDI4ODUsMzguMjcwMDEzMiBMNi4wNjgwNjg4NSwzOC4yNzI1IFogTTIwLjcwMDA2ODksNDkuMzU4ODQyMSBDMTkuOTY1OTg4OSw1MC45NTc4ODE2IDE4LjA3NjIyODksNTEuNjU2Njg0MiAxNi40ODE1ODg5LDUwLjkyMDU3ODkgQzE0Ljg4Njk0ODksNTAuMTg0NDczNyAxNC4xOTAwNjg5LDQ4LjI4OTUgMTQuOTI0MTQ4OSw0Ni42OTA0NjA1IEMxNS4zNTU2Njg5LDQ1Ljc1MDQzNDIgMTYuMjAxMzQ4OSw0NC4yMTg1Mzk1IDE3LjQ5NTkwODksNDIuMjg4NzUgQzE5Ljc5MjM4ODksMzguODg0MjYzMiAyMi40ODU2Njg5LDM1Ljc3MDczNjggMjUuNTIxMTg4OSwzMy4wMTAzNDIxIEMzNC43NTkxODg5LDI0LjU4NzQwNzkgNDYuNzYyMzg4OSwxOS41MjY2ODQyIDYxLjcwMTkwODksMTkuNTI2Njg0MiBDNzYuNjQxNDI4OSwxOS41MjY2ODQyIDg4LjY0MjE0ODksMjQuNTg3NDA3OSA5Ny44ODAxNDg5LDMzLjAxMDM0MjEgQzEwMC45MTgxNDksMzUuNzY4MjUgMTAzLjYxMTQyOSwzOC44ODQyNjMyIDEwNS45MDU0MjksNDIuMjg2MjYzMiBDMTA3LjIwMjQ2OSw0NC4yMTg1Mzk1IDEwOC4wNDgxNDksNDUuNzUwNDM0MiAxMDguNDc3MTg5LDQ2LjY4Nzk3MzcgQzEwOS4yMTEyNjksNDguMjg3MDEzMiAxMDguNTE2ODY5LDUwLjE4MTk4NjggMTA2LjkyMjIyOSw1MC45MjA1Nzg5IEMxMDUuMzI1MTA5LDUxLjY1NjY4NDIgMTAzLjQzNTM0OSw1MC45NTc4ODE2IDEwMi42OTg3ODksNDkuMzU4ODQyMSBDMTAyLjU1NzQyOSw0OS4wNjA0MjExIDEwMi40MDM2NjksNDguNzY2OTczNyAxMDIuMjQyNDY5LDQ4LjQ3ODUgQzEwMS44MTA5NDksNDcuNjk1MTQ0NyAxMDEuMjc1MjY5LDQ2LjgxMjMxNTggMTAwLjYzMDQ2OSw0NS44NTIzOTQ3IEM5OC42MjE2Njg5LDQyLjg3MzE1NzkgOTYuMjYwNzA4OSw0MC4xNDUwOTIxIDkzLjYwMjE0ODksMzcuNzMwMzY4NCBDODUuNDkwMDY4OSwzMC4zMzQ1IDc0Ljk4OTc0ODksMjUuOTAyOTQ3NCA2MS43MDE5MDg5LDI1LjkwMjk0NzQgQzQ4LjQxNjU0ODksMjUuOTAyOTQ3NCAzNy45MTEyNjg5LDMwLjMzNDUgMjkuNzk5MTg4OSwzNy43MzAzNjg0IEMyNy4xNDMxMDg5LDQwLjE0NTA5MjEgMjQuNzgyMTQ4OSw0Mi44NzMxNTc5IDIyLjc3MDg2ODksNDUuODUyMzk0NyBDMjIuMTI2MDY4OSw0Ni44MDk4Mjg5IDIxLjU5MDM4ODksNDcuNjkyNjU3OSAyMS4xNTg4Njg5LDQ4LjQ3ODUgQzIwLjkxMDg2ODksNDguOTI4NjE4NCAyMC43NjIwNjg5LDQ5LjIyOTUyNjMgMjAuNzAwMDY4OSw0OS4zNTg4NDIxIEwyMC43MDAwNjg5LDQ5LjM1ODg0MjEgWiBNMzIuMTUwMjI4OSw2My4xNzA3NjMyIEMzMS40MTYxNDg5LDY0Ljc2OTgwMjYgMjkuNTI2Mzg4OSw2NS40NzEwOTIxIDI3LjkzMTc0ODksNjQuNzMyNSBDMjYuMzM0NjI4OSw2My45OTYzOTQ3IDI1LjYzNzc0ODksNjIuMTAzOTA3OSAyNi4zNzE4Mjg5LDYwLjUwMjM4MTYgQzI2LjcxMTU4ODksNTkuNzY4NzYzMiAyNy4zNTYzODg5LDU4LjU5NDk3MzcgMjguMzQwOTQ4OSw1Ny4xMzAyMjM3IEMzMC4wNzQ0Njg5LDU0LjU1ODgyODkgMzIuMTEwNTQ4OSw1Mi4yMDYyNzYzIDM0LjQwMjA2ODksNTAuMTIyMzAyNiBDNDEuMzc4MzA4OSw0My43NjA5NjA1IDUwLjQ0NzY2ODksMzkuOTM2MTk3NCA2MS43MDY4Njg5LDM5LjkzNjE5NzQgQzcyLjk2NjA2ODksMzkuOTM2MTk3NCA4Mi4wMzU0Mjg5LDQzLjc2MDk2MDUgODkuMDExNjY4OSw1MC4xMjIzMDI2IEM5MS4zMDU2Njg5LDUyLjIwNjI3NjMgOTMuMzM5MjY4OSw1NC41NTg4Mjg5IDk1LjA3Mjc4ODksNTcuMTMwMjIzNyBDOTYuMDU5ODI4OSw1OC41OTc0NjA1IDk2LjcwNDYyODksNTkuNzY2Mjc2MyA5Ny4wNDE5MDg5LDYwLjUwMjM4MTYgQzk3Ljc3ODQ2ODksNjIuMTAxNDIxMSA5Ny4wNzkxMDg5LDYzLjk5NjM5NDcgOTUuNDg0NDY4OSw2NC43MzI1IEM5My44ODk4Mjg5LDY1LjQ3MTA5MjEgOTIuMDAwMDY4OSw2NC43Njk4MDI2IDkxLjI2MzUwODksNjMuMTcwNzYzMiBDOTEuMTY2Nzg4OSw2Mi45NjkzMjg5IDkxLjA2MjYyODksNjIuNzcwMzgxNiA5MC45NTM1MDg5LDYyLjU3MzkyMTEgQzkwLjY0MzUwODksNjIuMDE0MzgxNiA5MC4yNTkxMDg5LDYxLjM4MDIzNjggODkuNzk3ODI4OSw2MC42OTM4Njg0IEM4OC4zNDk1MDg5LDU4LjU0NTIzNjggODYuNjUwNzA4OSw1Ni41ODA2MzE2IDg0LjczMzY2ODksNTQuODM5ODQyMSBDNzguODgwODY4OSw0OS41MDU1NjU4IDcxLjMxMTkwODksNDYuMzE0OTQ3NCA2MS43MDY4Njg5LDQ2LjMxNDk0NzQgQzUyLjEwMTgyODksNDYuMzE0OTQ3NCA0NC41MzI4Njg5LDQ5LjUwNTU2NTggMzguNjgyNTQ4OSw1NC44Mzk4NDIxIEMzNi43NjU1MDg5LDU2LjU4MDYzMTYgMzUuMDY2NzA4OSw1OC41NDUyMzY4IDMzLjYxNTkwODksNjAuNjkzODY4NCBDMzMuMjA0MjI4OSw2MS4zMDMxNDQ3IDMyLjgxOTgyODksNjEuOTI5ODI4OSAzMi40NjI3MDg5LDYyLjU3MzkyMTEgQzMyLjI4OTEwODksNjIuODg3MjYzMiAzMi4xODQ5NDg5LDYzLjA5MzY3MTEgMzIuMTUwMjI4OSw2My4xNzA3NjMyIEwzMi4xNTAyMjg5LDYzLjE3MDc2MzIgWiBNNjcuNTMyMzg4OSwxMjUuMzQ5Mjc2IEw1NS44NjY0Njg5LDEyNS4zNDkyNzYgTDU1Ljg2NjQ2ODksMTg5IEw0OS41MDUyNjg5LDE4OSBMNDkuNTA1MjY4OSwxMjUuMzQ5Mjc2IEwzNS40ODMzNDg5LDEyNS4zNDkyNzYgTDM1LjQ4MzM0ODksMTE4Ljk3MDUyNiBMNDAuMTY4MDY4OSwxMTguOTcwNTI2IEw0MC4xNjgwNjg5LDk0LjYxOTM2ODQgTDQwLjE3MzAyODksOTQuNjE5MzY4NCBDNDAuNDM4Mzg4OSw4My4wNDMxMTg0IDQ5Ljk3Mzk4ODksNzMuNzM5ODQyMSA2MS42OTk0Mjg5LDczLjczOTg0MjEgQzczLjQyNDg2ODksNzMuNzM5ODQyMSA4Mi45NTc5ODg5LDgzLjA0MzExODQgODMuMjI1ODI4OSw5NC42MTkzNjg0IEw4My4yMzA3ODg5LDk0LjYxOTM2ODQgTDgzLjIzMDc4ODksMTE4Ljk3MDUyNiBMODcuOTEzMDI4OSwxMTguOTcwNTI2IEw4Ny45MTMwMjg5LDEyNS4zNDkyNzYgTDczLjg5MTEwODksMTI1LjM0OTI3NiBMNzMuODkxMTA4OSwxNjkuMTE1MjExIEw2Ny41MzQ4Njg5LDE2OS4xMTUyMTEgTDY3LjUzNDg2ODksMTI1LjM0OTI3NiBMNjcuNTMyMzg4OSwxMjUuMzQ5Mjc2IFoiIGlkPSJGaWxsLTEiPjwvcGF0aD4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+'
      },
      pictureAspect: 'silhouette',
      themeColor: '#49ffa6'
      }
    },
    settings: {
      scalingAlgorithm: 'Mitchell',
      errorOnImageTooSmall: false
    },
    markupFile: FAVICON_DATA_FILE
  }, () => {
    done();
  });
});

// Inject the favicon markups in your HTML pages. You should run
// this task whenever you modify a page. You can keep this task
// as is or refactor your existing HTML pipeline.
gulp.task('inject-favicon-markups', () => {
  return gulp.src([ 'app/index.html' ])
  .pipe($.realFavicon.injectFaviconMarkups(JSON.parse(fs.readFileSync(FAVICON_DATA_FILE)).favicon.html_code))
  .pipe(gulp.dest('app'));
});

// Check for updates on RealFaviconGenerator (think: Apple has just
// released a new Touch icon along with the latest version of iOS).
// Run this task from time to time. Ideally, make it part of your
// continuous integration system.
gulp.task('check-for-favicon-update', (done) => {
  var currentVersion = JSON.parse(fs.readFileSync(FAVICON_DATA_FILE)).version;
  $.realFavicon.checkForUpdates(currentVersion, (err) => {
    if (err) {
      throw err;
    }
  });
});
// END FAVICON
